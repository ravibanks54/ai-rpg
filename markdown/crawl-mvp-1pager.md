ğŸ§  AI RPG â€” Micro-MVP Spec (v0.1)
ğŸ¯ Goal

Build the smallest playable prototype that proves a player can talk to a single NPC, receive AI-generated dialogue, and trigger a visible world change based on conversation.

ğŸ’¡ Core Concept

You spawn in a tavern, approach Mira the innkeeper, and chat with her.
She remembers what youâ€™ve said before and occasionally causes something in the world to change â€” for example, a torch flickers when she reveals a rumor.

ğŸ§© Core Features

One Map: Static tavern scene.

Player Controls: Move + press E (or click) to talk.

NPC: â€œMiraâ€ with:

Personality: friendly, superstitious, slightly nervous.

Memory: stored as a list of flags in localStorage.

Dialogue:

Player text or choice â†’ POST to /api/dialogue.

Response generated by LLM using Miraâ€™s persona, memory, and simple world state.

Memory System:

After each talk, update localStorage memory (e.g. ["met_player", "talked_about_disappearances"]).

World Reaction:

If talked_about_disappearances in memory â†’ trigger an effect (torch flicker, sound cue, or door unlock).

ğŸ’¬ API Contract (/api/dialogue)

Input

{
"player_input": "Heard any news?",
"npc_state": { "name": "Mira", "personality": "friendly but nervous", "memory": ["met_player"] },
"world_state": { "time": "night", "events": ["villager_disappeared"] }
}

Output

{
"response": "Mira leans closer. 'Aye, three folk gone missing near the woods...'",
"updated_memory": ["met_player", "talked_about_disappearances"]
}

ğŸ” Gameplay Loop

Player approaches Mira â†’ presses E.

Dialogue box opens â†’ player enters text.

Send context + input to /api/dialogue.

Display AI-generated reply.

Update Miraâ€™s memory in localStorage.

Check memory flags â†’ trigger in-game event if condition met.

ğŸš€ Implementation Steps

Create tavern scene with player + Mira NPC.

Hook up simple dialogue UI.

Add /api/dialogue backend route â€” start with hardcoded response, then plug in LLM (GPT-4o-mini / Claude / local model).

Implement memory persistence (load + save).

Add one reactive event tied to memory (torch flicker).

âœ… Success Criteria

Player can move and talk to Mira.

AI dialogue is contextual and in-character.

Mira remembers prior chats.

A visible world change occurs based on what was discussed.
